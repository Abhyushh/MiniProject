{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Akshat Bhatia\\\\Desktop\\\\MiniProject\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { bindActionCreators } from 'redux';\nimport { connect } from 'react-redux';\nimport { fetchUser } from './actions/userActions';\nimport { setToken } from './actions/tokenActions';\nimport { playSong, stopSong, pauseSong, resumeSong } from './actions/songActions';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport UserPlaylists from './components/UserPlaylists';\nimport MainView from './components/MainView';\nimport ArtWork from './components/ArtWork';\nimport MainHeader from './components/MainHeader';\nimport SideMenu from './components/SideMenu';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.stopSong = () => {\n      if (this.audio) {\n        this.props.stopSong();\n        this.audio.pause();\n      }\n    };\n\n    this.pauseSong = () => {\n      if (this.audio) {\n        this.props.pauseSong();\n        this.audio.pause();\n      }\n    };\n\n    this.resumeSong = () => {\n      if (this.audio) {\n        this.props.resumeSong();\n        this.audio.play();\n      }\n    };\n\n    this.audioControl = song => {\n      const {\n        playSong,\n        stopSong\n      } = this.props;\n\n      if (this.audio === undefined) {\n        playSong(song.track);\n        this.audio = new Audio(song.track.preview_url);\n        this.audio.play();\n      } else {\n        stopSong();\n        this.audio.pause();\n        playSong(song.track);\n        this.audio = new Audio(song.track.preview_url);\n        this.audio.play();\n      }\n    };\n  }\n\n  componentDidMount() {\n    let hashParams = {};\n    let e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    if (!hashParams.access_token) {\n      window.location.href = 'https://accounts.spotify.com/authorize?client_id=230be2f46909426b8b80cac36446b52a&scope=playlist-read-private%20playlist-read-collaborative%20playlist-modify-public%20user-read-recently-played%20playlist-modify-private%20ugc-image-upload%20user-follow-modify%20user-follow-read%20user-library-read%20user-library-modify%20user-read-private%20user-read-email%20user-top-read%20user-read-playback-state&response_type=token&redirect_uri=http://localhost:3000/callback';\n    } else {\n      this.props.setToken(hashParams.access_token);\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.token) {\n      this.props.fetchUser(nextProps.token);\n    }\n\n    if (this.audio !== undefined) {\n      this.audio.volume = nextProps.volume / 100;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"app-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-side-section\",\n          children: [/*#__PURE__*/_jsxDEV(SideMenu, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserPlaylists, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"main-section\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"main-section-container\",\n            children: [/*#__PURE__*/_jsxDEV(MainHeader, {\n              pauseSong: this.pauseSong,\n              resumeSong: this.resumeSong\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), ' ', /*#__PURE__*/_jsxDEV(MainView, {\n              pauseSong: this.pauseSong,\n              resumeSong: this.resumeSong,\n              audioControl: this.audioControl\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {\n          stopSong: this.stopSong,\n          pauseSong: this.pauseSong,\n          resumeSong: this.resumeSong,\n          audioControl: this.audioControl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ArtWork, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nApp.propTypes = {\n  token: PropTypes.string,\n  fetchUser: PropTypes.func,\n  setToken: PropTypes.func,\n  pauseSong: PropTypes.func,\n  playSong: PropTypes.func,\n  stopSong: PropTypes.func,\n  resumeSong: PropTypes.func,\n  volume: PropTypes.number\n};\n\nconst mapStateToProps = state => {\n  return {\n    token: state.tokenReducer.token,\n    volume: state.soundReducer.volume\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return bindActionCreators({\n    fetchUser,\n    setToken,\n    playSong,\n    stopSong,\n    pauseSong,\n    resumeSong\n  }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["C:/Users/Akshat Bhatia/Desktop/MiniProject/frontend/src/App.js"],"names":["React","Component","PropTypes","bindActionCreators","connect","fetchUser","setToken","playSong","stopSong","pauseSong","resumeSong","Header","Footer","UserPlaylists","MainView","ArtWork","MainHeader","SideMenu","App","audio","props","pause","play","audioControl","song","undefined","track","Audio","preview_url","componentDidMount","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","access_token","href","componentWillReceiveProps","nextProps","token","volume","render","propTypes","string","func","number","mapStateToProps","state","tokenReducer","soundReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { bindActionCreators } from 'redux';\r\nimport { connect } from 'react-redux';\r\nimport { fetchUser } from './actions/userActions';\r\nimport { setToken } from './actions/tokenActions';\r\nimport {\r\n  playSong,\r\n  stopSong,\r\n  pauseSong,\r\n  resumeSong,\r\n} from './actions/songActions';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport UserPlaylists from './components/UserPlaylists';\r\nimport MainView from './components/MainView';\r\nimport ArtWork from './components/ArtWork';\r\nimport MainHeader from './components/MainHeader';\r\nimport SideMenu from './components/SideMenu';\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  static audio;\r\n\r\n  componentDidMount() {\r\n    let hashParams = {};\r\n    let e,\r\n      r = /([^&;=]+)=?([^&;]*)/g,\r\n      q = window.location.hash.substring(1);\r\n    while ((e = r.exec(q))) {\r\n      hashParams[e[1]] = decodeURIComponent(e[2]);\r\n    }\r\n\r\n    if (!hashParams.access_token) {\r\n      window.location.href =\r\n        'https://accounts.spotify.com/authorize?client_id=230be2f46909426b8b80cac36446b52a&scope=playlist-read-private%20playlist-read-collaborative%20playlist-modify-public%20user-read-recently-played%20playlist-modify-private%20ugc-image-upload%20user-follow-modify%20user-follow-read%20user-library-read%20user-library-modify%20user-read-private%20user-read-email%20user-top-read%20user-read-playback-state&response_type=token&redirect_uri=http://localhost:3000/callback';\r\n    } else {\r\n      this.props.setToken(hashParams.access_token);\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.token) {\r\n      this.props.fetchUser(nextProps.token);\r\n    }\r\n\r\n    if (this.audio !== undefined) {\r\n      this.audio.volume = nextProps.volume / 100;\r\n    }\r\n  }\r\n\r\n  stopSong = () => {\r\n    if (this.audio) {\r\n      this.props.stopSong();\r\n      this.audio.pause();\r\n    }\r\n  };\r\n\r\n  pauseSong = () => {\r\n    if (this.audio) {\r\n      this.props.pauseSong();\r\n      this.audio.pause();\r\n    }\r\n  };\r\n\r\n  resumeSong = () => {\r\n    if (this.audio) {\r\n      this.props.resumeSong();\r\n      this.audio.play();\r\n    }\r\n  };\r\n\r\n  audioControl = (song) => {\r\n    const { playSong, stopSong } = this.props;\r\n\r\n    if (this.audio === undefined) {\r\n      playSong(song.track);\r\n      this.audio = new Audio(song.track.preview_url);\r\n      this.audio.play();\r\n    } else {\r\n      stopSong();\r\n      this.audio.pause();\r\n      playSong(song.track);\r\n      this.audio = new Audio(song.track.preview_url);\r\n      this.audio.play();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <div className=\"app-container\">\r\n          <div className=\"left-side-section\">\r\n            <SideMenu />\r\n            <UserPlaylists />\r\n            {/* <ArtWork /> */}\r\n          </div>\r\n          <div className=\"main-section\">\r\n            <Header /><br />\r\n            <div className=\"main-section-container\">\r\n              <MainHeader\r\n                pauseSong={this.pauseSong}\r\n                resumeSong={this.resumeSong}\r\n              />{' '}\r\n              <MainView\r\n                pauseSong={this.pauseSong}\r\n                resumeSong={this.resumeSong}\r\n                audioControl={this.audioControl}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Footer\r\n            stopSong={this.stopSong}\r\n            pauseSong={this.pauseSong}\r\n            resumeSong={this.resumeSong}\r\n            audioControl={this.audioControl}\r\n          />\r\n        </div>\r\n        <ArtWork />\r\n\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  token: PropTypes.string,\r\n  fetchUser: PropTypes.func,\r\n  setToken: PropTypes.func,\r\n  pauseSong: PropTypes.func,\r\n  playSong: PropTypes.func,\r\n  stopSong: PropTypes.func,\r\n  resumeSong: PropTypes.func,\r\n  volume: PropTypes.number,\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    token: state.tokenReducer.token,\r\n    volume: state.soundReducer.volume,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return bindActionCreators(\r\n    {\r\n      fetchUser,\r\n      setToken,\r\n      playSong,\r\n      stopSong,\r\n      pauseSong,\r\n      resumeSong,\r\n    },\r\n    dispatch\r\n  );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n"]},"metadata":{},"sourceType":"module"}